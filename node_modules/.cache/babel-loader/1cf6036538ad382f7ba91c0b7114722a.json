{"ast":null,"code":"import _classCallCheck from\"/Users/seanrobnett/Desktop/my-projects/email-archives/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/seanrobnett/Desktop/my-projects/email-archives/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/seanrobnett/Desktop/my-projects/email-archives/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/seanrobnett/Desktop/my-projects/email-archives/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/seanrobnett/Desktop/my-projects/email-archives/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{DateRangePicker}from\"react-dates\";import SingleEmail from\"../SingleEmail/SingleEmail\";import\"react-dates/initialize\";import\"react-dates/lib/css/_datepicker.css\";import\"./DatePicker.scss\";import\"./Emails.scss\";import moment from\"moment\";import data from\"../../data/email-archives.json\";import Clip from\"../../Assets/icon_clip.svg\";import MagGlass from\"../../Assets/icon_search.svg\";import Up from\"../../Assets/icon_arrow01.svg\";import Right from\"../../Assets/icon_arrow02.svg\";import Mail from\"../../Assets/icon_mail_sp.svg\";var Emails=/*#__PURE__*/function(_Component){_inherits(Emails,_Component);var _super=_createSuper(Emails);function Emails(props){var _this;_classCallCheck(this,Emails);_this=_super.call(this,props);_this.focusFrom=function(){_this.setState({from:true,to:false,subject:false,date:false,archives:_this.state.archives.sort(function(a,b){var abc=_this.state.from?-1:1;return abc*b.recipient.localeCompare(a.recipient.toLowerCase());})});};_this.focusTo=function(){_this.setState({from:false,to:true,subject:false,date:false,archives:_this.state.archives.sort(function(a,b){var abc=_this.state.from?-1:1;return abc*b.sender.localeCompare(a.sender.toLowerCase());})});};_this.focusSubject=function(){_this.setState({from:false,to:false,subject:true,date:false,archives:_this.state.archives.sort(function(a,b){var abc=_this.state.from?-1:1;return abc*b.subject.localeCompare(a.subject.toLowerCase());})});};_this.focusDate=function(){_this.setState({from:false,to:false,subject:false,date:true,archives:_this.state.archives.sort(function(a,b){return b.date.localeCompare(a.date);})});};_this.toSingleEmail=function(index){_this.setState({single:false,emailIndex:index});};_this.toggleForward=function(length){if(_this.state.emailIndex===length-1){_this.setState({emailIndex:0});}else{_this.setState({emailIndex:_this.state.emailIndex+1});}};_this.toggleBack=function(length){if(_this.state.emailIndex===0){_this.setState({emailIndex:length-1});}else{_this.setState({emailIndex:_this.state.emailIndex-1});}};_this.emailBody=function(to,subject,body){var randomnumber=Math.floor(Math.random()*100+1);window.open(\"\",\"_blank\",\"scrollbars=1,menubar=0,resizable=1,width=550,height=400,left=1000, top=1000\",randomnumber).document.write(\"<h1> Recipient: \"+to+\"</h1>\",\"<h2> Subject\"+subject+\"</h2>\",\"<h3>\"+body+\"</h3>\");};_this.results=function(){_this.setState({single:true});};_this.msToTime=function(duration){var ms=duration.getTime();var milliseconds=parseInt(ms%1000/100),seconds=parseInt(ms/1000%60),minutes=parseInt(ms/(1000*60)%60),hours=parseInt(ms/(1000*60*60)%24);hours=hours<10?\"0\"+hours:hours;minutes=minutes<10?\"0\"+minutes:minutes;seconds=seconds<10?\"0\"+seconds:seconds;return hours+\":\"+minutes;};_this.state={archives:data.emails,search:\"\",single:true,emailIndex:null,calendarSearch:true,startDate:moment().startOf(\"month\"),endDate:moment().endOf(\"month\"),from:true,to:false,subject:false,date:false};_this.toggleForward=_this.toggleForward.bind(_assertThisInitialized(_this));return _this;}_createClass(Emails,[{key:\"componentDidMount\",value:function componentDidMount(){this.focusDate();}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,archives=_this$state.archives,emailIndex=_this$state.emailIndex,search=_this$state.search,single=_this$state.single,startDate=_this$state.startDate,endDate=_this$state.endDate,from=_this$state.from,to=_this$state.to,subject=_this$state.subject,date=_this$state.date;console.log(archives);var filterEmails=archives.filter(function(mail){var formatDate=new Date(mail.date);console.log(formatDate.toDateString().slice(4,11));if(startDate&&endDate!==null){return formatDate>=startDate._d&&formatDate<=endDate._d;}else if(startDate&&endDate===null){return mail.date.toLowerCase().indexOf(search.toLowerCase())!==-1;}}).map(function(emails,i){var getIndex=emails.sender.substring(16);var toFit=emails.sender.length>15?emails.sender.replace(getIndex,\"...\"):emails.sender;var stringDate=new Date(emails.date);var dateDisplay=stringDate.toDateString()===moment().startOf(\"day\")._d.toDateString()?_this2.msToTime(stringDate):stringDate.getFullYear()!==+moment().format(\"YYYY\")?emails.date:stringDate.toDateString().slice(4,11);console.log(stringDate.toDateString().slice(4,11),moment().startOf(\"day\")._d.toDateString());return/*#__PURE__*/React.createElement(\"div\",{className:\"mail-list\",key:i,onClick:function onClick(e){return _this2.toSingleEmail(i);}},/*#__PURE__*/React.createElement(\"div\",{className:\"sender\"},/*#__PURE__*/React.createElement(\"h3\",{className:from===true?\"bolded\":\"reg\"},toFit)),/*#__PURE__*/React.createElement(\"div\",{className:\"recipient\"},\" \",/*#__PURE__*/React.createElement(\"h3\",{className:to===true?\"bolded\":\"reg\"},emails.recipient)),/*#__PURE__*/React.createElement(\"div\",{className:\"subject\"},\" \",/*#__PURE__*/React.createElement(\"h3\",{className:subject===true?\"bolded\":\"reg\"},emails.subject.substring(0,54))),/*#__PURE__*/React.createElement(\"div\",{className:emails.attachment===true?\"attach\":\"hide\"},/*#__PURE__*/React.createElement(\"img\",{src:Clip,alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:emails.attachment===true?\"date\":\"date-with-attachment\"},\" \",/*#__PURE__*/React.createElement(\"h3\",{className:date===true?\"bolded\":\"reg\"},dateDisplay)),/*#__PURE__*/React.createElement(\"img\",{className:\"mail-icon\",src:Mail,alt:\"\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"mobile-sender\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mobilesender\"},/*#__PURE__*/React.createElement(\"h3\",null,emails.sender),/*#__PURE__*/React.createElement(\"div\",{className:\"mobile-date\"},/*#__PURE__*/React.createElement(\"div\",{className:emails.attachment===true?\"mobile-attach\":\"hide\"},/*#__PURE__*/React.createElement(\"img\",{src:Clip,alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:emails.attachment===true?\"mobiledate\":\"mobile-date-with-attachment\"},\" \",/*#__PURE__*/React.createElement(\"h3\",null,dateDisplay),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:Right,alt:\"\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"mobile-recipient\"},\" \",/*#__PURE__*/React.createElement(\"h3\",null,emails.recipient)),/*#__PURE__*/React.createElement(\"div\",{className:\"mobile-subject\"},\" \",/*#__PURE__*/React.createElement(\"h3\",null,emails.subject))));});return/*#__PURE__*/React.createElement(\"div\",{id:\"archive-container\"},/*#__PURE__*/React.createElement(\"div\",{id:\"search\"},/*#__PURE__*/React.createElement(\"div\",{className:\"filter-date\"},/*#__PURE__*/React.createElement(DateRangePicker,{startDate:startDate,endDate:endDate,onDatesChange:function onDatesChange(_ref){var startDate=_ref.startDate,endDate=_ref.endDate;return _this2.setState({startDate:startDate,endDate:endDate});},focusedInput:this.state.focusedInput,onFocusChange:function onFocusChange(focusedInput){return _this2.setState({focusedInput:focusedInput});},numberOfMonths:1,isOutsideRange:function isOutsideRange(){return false;}})),/*#__PURE__*/React.createElement(\"div\",{className:\"glass\"},/*#__PURE__*/React.createElement(\"img\",{src:MagGlass,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{id:\"title-count\"},/*#__PURE__*/React.createElement(\"h2\",{className:single?\"\":\"clickable\",onClick:single?null:this.results},\"Results: \",filterEmails.length,\"mail(s)\")),/*#__PURE__*/React.createElement(\"div\",{id:\"email\"},/*#__PURE__*/React.createElement(\"div\",{id:single?\"mail-order\":\"non-exgsistant\"},/*#__PURE__*/React.createElement(\"div\",{id:\"from\"},/*#__PURE__*/React.createElement(\"h2\",{onClick:this.focusFrom},\"From\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{className:from===true?\"show-arrow\":\"hide-arrow\",src:Up,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{id:\"to\"},/*#__PURE__*/React.createElement(\"h2\",{onClick:this.focusTo},\"To\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{className:to===true?\"show-arrow\":\"hide-arrow\",src:Up,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{id:\"about\"},\" \",/*#__PURE__*/React.createElement(\"h2\",{onClick:this.focusSubject},\"Subject\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{className:subject===true?\"show-arrow\":\"hide-arrow\",src:Up,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{id:\"when\"},\" \",/*#__PURE__*/React.createElement(\"h2\",{onClick:this.focusDate},\"Date\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{className:date===true?\"show-arrow\":\"hide-arrow\",src:Up,alt:\"\"})))),single?/*#__PURE__*/React.createElement(\"div\",{id:\"mail-content\"},filterEmails):/*#__PURE__*/React.createElement(SingleEmail,{mail:archives,specIndex:emailIndex,back:this.toggleBack,forward:this.toggleForward,emailWindow:this.emailBody,toggleEnd:filterEmails.length})));}}]);return Emails;}(Component);export default Emails;","map":{"version":3,"sources":["/Users/seanrobnett/Desktop/my-projects/email-archives/src/Component/Emails/Emails.js"],"names":["React","Component","DateRangePicker","SingleEmail","moment","data","Emails","props","focusFrom","setState","from","to","subject","date","archives","state","sort","a","b","abc","recipient","localeCompare","toLowerCase","focusTo","sender","focusSubject","focusDate","toSingleEmail","index","single","emailIndex","toggleForward","length","toggleBack","emailBody","body","randomnumber","Math","floor","random","window","open","document","write","results","msToTime","duration","ms","getTime","milliseconds","parseInt","seconds","minutes","hours","emails","search","calendarSearch","startDate","startOf","endDate","endOf","bind","console","log","filterEmails","filter","mail","formatDate","Date","toDateString","slice","_d","indexOf","map","i","getIndex","substring","toFit","replace","stringDate","dateDisplay","getFullYear","format","e","attachment","Clip","Mail","Right","focusedInput","MagGlass","Up"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { DateRangePicker } from \"react-dates\";\nimport SingleEmail from \"../SingleEmail/SingleEmail\";\nimport \"react-dates/initialize\";\nimport \"react-dates/lib/css/_datepicker.css\";\nimport \"./DatePicker.scss\";\nimport \"./Emails.scss\";\nimport moment from \"moment\";\nimport data from \"../../data/email-archives.json\";\nimport Clip from \"../../Assets/icon_clip.svg\";\nimport MagGlass from \"../../Assets/icon_search.svg\";\nimport Up from \"../../Assets/icon_arrow01.svg\";\nimport Right from \"../../Assets/icon_arrow02.svg\";\nimport Mail from \"../../Assets/icon_mail_sp.svg\";\n\nclass Emails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      archives: data.emails,\n      search: \"\",\n      single: true,\n      emailIndex: null,\n      calendarSearch: true,\n      startDate: moment().startOf(\"month\"),\n      endDate: moment().endOf(\"month\"),\n      from: true,\n      to: false,\n      subject: false,\n      date: false\n    };\n    this.toggleForward = this.toggleForward.bind(this);\n  }\n  componentDidMount() {\n    this.focusDate();\n  }\n  focusFrom = () => {\n    this.setState({\n      from: true,\n      to: false,\n      subject: false,\n      date: false,\n      archives: this.state.archives.sort((a, b) => {\n        const abc = this.state.from ? -1 : 1;\n        return abc * b.recipient.localeCompare(a.recipient.toLowerCase());\n      })\n    });\n  };\n  focusTo = () => {\n    this.setState({\n      from: false,\n      to: true,\n      subject: false,\n      date: false,\n      archives: this.state.archives.sort((a, b) => {\n        const abc = this.state.from ? -1 : 1;\n        return abc * b.sender.localeCompare(a.sender.toLowerCase());\n      })\n    });\n  };\n  focusSubject = () => {\n    this.setState({\n      from: false,\n      to: false,\n      subject: true,\n      date: false,\n      archives: this.state.archives.sort((a, b) => {\n        const abc = this.state.from ? -1 : 1;\n        return abc * b.subject.localeCompare(a.subject.toLowerCase());\n      })\n    });\n  };\n  focusDate = () => {\n    this.setState({\n      from: false,\n      to: false,\n      subject: false,\n      date: true,\n      archives: this.state.archives.sort((a, b) => {\n        return b.date.localeCompare(a.date);\n      })\n    });\n  };\n\n  toSingleEmail = index => {\n    this.setState({ single: false, emailIndex: index });\n  };\n  toggleForward = length => {\n    if (this.state.emailIndex === length - 1) {\n      this.setState({\n        emailIndex: 0\n      });\n    } else {\n      this.setState({\n        emailIndex: this.state.emailIndex + 1\n      });\n    }\n  };\n  toggleBack = length => {\n    if (this.state.emailIndex === 0) {\n      this.setState({\n        emailIndex: length - 1\n      });\n    } else {\n      this.setState({\n        emailIndex: this.state.emailIndex - 1\n      });\n    }\n  };\n  emailBody = (to, subject, body) => {\n    var randomnumber = Math.floor(Math.random() * 100 + 1);\n    window\n      .open(\n        \"\",\n        \"_blank\",\n        \"scrollbars=1,menubar=0,resizable=1,width=550,height=400,left=1000, top=1000\",\n        randomnumber\n      )\n      .document.write(\n        \"<h1> Recipient: \" + to + \"</h1>\",\n        \"<h2> Subject\" + subject + \"</h2>\",\n        \"<h3>\" + body + \"</h3>\"\n      );\n  };\n  results = () => {\n    this.setState({\n      single: true\n    });\n  };\n\n  msToTime = duration => {\n    let ms = duration.getTime();\n    var milliseconds = parseInt((ms % 1000) / 100),\n      seconds = parseInt((ms / 1000) % 60),\n      minutes = parseInt((ms / (1000 * 60)) % 60),\n      hours = parseInt((ms / (1000 * 60 * 60)) % 24);\n\n    hours = hours < 10 ? \"0\" + hours : hours;\n    minutes = minutes < 10 ? \"0\" + minutes : minutes;\n    seconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n    return hours + \":\" + minutes;\n  };\n  render() {\n    const {\n      archives,\n      emailIndex,\n      search,\n      single,\n      startDate,\n      endDate,\n      from,\n      to,\n      subject,\n      date\n    } = this.state;\n    console.log(archives);\n\n    const filterEmails = archives\n      .filter(mail => {\n        const formatDate = new Date(mail.date);\n        console.log(formatDate.toDateString().slice(4, 11));\n        if (startDate && endDate !== null) {\n          return formatDate >= startDate._d && formatDate <= endDate._d;\n        } else if (startDate && endDate === null) {\n          return mail.date.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n        }\n      })\n\n      .map((emails, i) => {\n        const getIndex = emails.sender.substring(16);\n        const toFit =\n          emails.sender.length > 15\n            ? emails.sender.replace(getIndex, \"...\")\n            : emails.sender;\n\n        const stringDate = new Date(emails.date);\n        const dateDisplay =\n          stringDate.toDateString() ===\n          moment()\n            .startOf(\"day\")\n            ._d.toDateString()\n            ? this.msToTime(stringDate)\n            : stringDate.getFullYear() !== +moment().format(\"YYYY\")\n            ? emails.date\n            : stringDate.toDateString().slice(4, 11);\n        console.log(\n          stringDate.toDateString().slice(4, 11),\n          moment()\n            .startOf(\"day\")\n            ._d.toDateString()\n        );\n        return (\n          <div\n            className='mail-list'\n            key={i}\n            onClick={e => this.toSingleEmail(i)}\n          >\n            <div className='sender'>\n              <h3 className={from === true ? \"bolded\" : \"reg\"}>{toFit}</h3>\n            </div>\n            <div className='recipient'>\n              {\" \"}\n              <h3 className={to === true ? \"bolded\" : \"reg\"}>\n                {emails.recipient}\n              </h3>\n            </div>\n            <div className='subject'>\n              {\" \"}\n              <h3 className={subject === true ? \"bolded\" : \"reg\"}>\n                {emails.subject.substring(0, 54)}\n              </h3>\n            </div>\n            <div className={emails.attachment === true ? \"attach\" : \"hide\"}>\n              <img src={Clip} alt='' />\n            </div>\n            <div\n              className={\n                emails.attachment === true ? \"date\" : \"date-with-attachment\"\n              }\n            >\n              {\" \"}\n              <h3 className={date === true ? \"bolded\" : \"reg\"}>\n                {dateDisplay}\n              </h3>\n            </div>\n            <img className='mail-icon' src={Mail} alt='' />\n            <div className='mobile-sender'>\n              <div className='mobilesender'>\n                <h3>{emails.sender}</h3>\n                <div className='mobile-date'>\n                  <div\n                    className={\n                      emails.attachment === true ? \"mobile-attach\" : \"hide\"\n                    }\n                  >\n                    <img src={Clip} alt='' />\n                  </div>\n                  <div\n                    className={\n                      emails.attachment === true\n                        ? \"mobiledate\"\n                        : \"mobile-date-with-attachment\"\n                    }\n                  >\n                    {\" \"}\n                    <h3>{dateDisplay}</h3>\n                    <div>\n                      <img src={Right} alt='' />\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className='mobile-recipient'>\n                {\" \"}\n                <h3>{emails.recipient}</h3>\n              </div>\n              <div className='mobile-subject'>\n                {\" \"}\n                <h3>{emails.subject}</h3>\n              </div>\n            </div>\n          </div>\n        );\n      });\n\n    return (\n      <div id='archive-container'>\n        <div id='search'>\n          <div className='filter-date'>\n            <DateRangePicker\n              startDate={startDate}\n              endDate={endDate}\n              onDatesChange={({ startDate, endDate }) =>\n                this.setState({ startDate, endDate })\n              }\n              focusedInput={this.state.focusedInput}\n              onFocusChange={focusedInput => this.setState({ focusedInput })}\n              numberOfMonths={1}\n              isOutsideRange={() => false}\n            />\n          </div>\n\n          <div className='glass'>\n            <img src={MagGlass} alt='' />\n          </div>\n        </div>\n        <div id='title-count'>\n          <h2\n            className={single ? \"\" : \"clickable\"}\n            onClick={single ? null : this.results}\n          >\n            Results: {filterEmails.length}mail(s)\n          </h2>\n        </div>\n        <div id='email'>\n          <div id={single ? \"mail-order\" : \"non-exgsistant\"}>\n            <div id='from'>\n              <h2 onClick={this.focusFrom}>From</h2>\n              <div>\n                <img\n                  className={from === true ? \"show-arrow\" : \"hide-arrow\"}\n                  src={Up}\n                  alt=''\n                />\n              </div>\n            </div>\n            <div id='to'>\n              <h2 onClick={this.focusTo}>To</h2>\n              <div>\n                <img\n                  className={to === true ? \"show-arrow\" : \"hide-arrow\"}\n                  src={Up}\n                  alt=''\n                />\n              </div>\n            </div>\n            <div id='about'>\n              {\" \"}\n              <h2 onClick={this.focusSubject}>Subject</h2>\n              <div>\n                <img\n                  className={subject === true ? \"show-arrow\" : \"hide-arrow\"}\n                  src={Up}\n                  alt=''\n                />\n              </div>\n            </div>\n            <div id='when'>\n              {\" \"}\n              <h2 onClick={this.focusDate}>Date</h2>\n              <div>\n                <img\n                  className={date === true ? \"show-arrow\" : \"hide-arrow\"}\n                  src={Up}\n                  alt=''\n                />\n              </div>\n            </div>\n          </div>\n          {single ? (\n            <div id='mail-content'>{filterEmails}</div>\n          ) : (\n            <SingleEmail\n              mail={archives}\n              specIndex={emailIndex}\n              back={this.toggleBack}\n              forward={this.toggleForward}\n              emailWindow={this.emailBody}\n              toggleEnd={filterEmails.length}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Emails;\n"]},"metadata":{},"sourceType":"module"}